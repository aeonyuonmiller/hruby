<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HRUBY Studio</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Flip.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.13.0/dist/SplitText.min.js"></script>

</head>

<body>
    <nav>
        <a href="#"><img class="logo" style="margin-bottom: 40px;" src="assets/Hruby-Logo.svg" alt="Hruby Logo" /></a>
        <div class="links">
            <a href="https://www.instagram.com/antjehruby/" target="_blank" rel="noopener noreferrer">Instagram</a>
            <!-- <a href="mailto:ah@hrubyinteriors.com">Contact</a> -->
            <a href="#contact">Contact</a>
        </div>
    </nav>

    <div class="welcome">
        <h1>Homes crafted for<br />lasting memories.</h1>
        <h2>New website coming soon …</h2>
    </div>

    <div class="video-wrapper">
        <video id="automatic" preload="none" autoplay muted playsinline poster="assets/video-poster.png">
            <source src="assets/slideshow.mp4" type="video/mp4" />
            Your browser does not support the video tag.
        </video>
    </div>

    <footer id="contact">
        <span>
            <a href="mailto:info@hruby.studio">info@hruby.studio</a><br />
            <div class="spacer"></div>
            Appointments by<br />arrangement.<br /><br />
            Friedrichstr. 3<br />
            80801 München<br />
            Germany<br /><br />
        </span>

        <div class="copyright">&copy; Hruby</div>
    </footer>


    <script>
        let mm = gsap.matchMedia();
        mm.add("(min-width: 700px)", () => {
            gsap.registerPlugin(SplitText);

            // const split = new SplitText("h1", { type: "words,chars" });
            // const chars = split.chars;
            const split = new SplitText("h1", { type: "lines" });
            const lines = split.lines;


            const tl = gsap.timeline({ defaults: { duration: 1, ease: "power2.out" } });

            tl.fromTo(".video-wrapper", {
                clipPath: "inset(100% 0% 0% 0%)",
                opacity: 0,
                y: 40,
                scale: 1.01,
                position: "absolute",
                right: "30vw"
            }, {
                clipPath: "inset(0% 0% 0% 0%)",
                opacity: 1,
                y: "-5%",
                scale: 0.8
            }, "+=0.4")
                .to(".video-wrapper", {
                    right: "0vw",
                    y: 0,
                    scale: 1
                }, "+=3")
                .fromTo(".video-wrapper video", { scale: 1.05, opacity: 1 }, { scale: 1, opacity: 1 }, "-=0.6")
                .fromTo(lines, { opacity: 0, y: 60 }, {
                    opacity: 1,
                    y: 0,
                    duration: 1.5,
                    stagger: 0.8,
                    ease: "power2.out"
                }, "-=0.6")
                .fromTo("h2", { opacity: 0, y: 40 }, { opacity: 1, y: 0 }, "+=0.8")
                .fromTo("nav", { opacity: 0, y: 10 }, { opacity: 1, y: 0 }, "-=0.2")
                .fromTo(".logo", { opacity: 0 }, { opacity: 1 }, "-=0.2");
        });


        mm.add("(max-width: 699px)", () => {
            const tl = gsap.timeline({ defaults: { duration: 1, ease: "power2.out" } });

            tl.fromTo(".video-wrapper", {
                clipPath: "inset(100% 0% 0% 0%)",
                opacity: 0,
                scale: 0.7,
                y: -150,
                margin: "0 auto"
            }, {
                clipPath: "inset(0% 0% 0% 0%)",
                opacity: 1,
                scale: .7,
                y: -50
            }, "+=0.8")
                .fromTo(".video-wrapper", {
                    scale: .7,
                    y: -50
                }, {
                    scale: 1,
                    y: 0
                }, "+=0.8")
                .fromTo(".video-wrapper video", { opacity: 0.8 }, { opacity: 1 }, "-=0.4")
                .fromTo("nav", { opacity: 0, y: 10 }, { opacity: 1, y: 0 }, "-=0.8")
                .fromTo(lines, { opacity: 0, y: 60 }, {
                    opacity: 1,
                    y: 0,
                    duration: 1.5,
                    stagger: 0.8,
                    ease: "power2.out"
                }, "-=0.6")
                .fromTo("h2", { opacity: 0, y: 30 }, { opacity: 1, y: 0 }, "-=0.7")
                .fromTo(".logo", { opacity: 0 }, { opacity: 1 }, "+=0.1")

        });

        gsap.registerPlugin(ScrollTrigger);

        // Animate footer on scroll into view
        gsap.fromTo("footer",
            { opacity: 0, y: 100 },
            {
                opacity: 1,
                y: 0,
                duration: 1,
                ease: "power2.out",
                scrollTrigger: {
                    trigger: "footer",
                    start: "top bottom", // trigger when top of footer hits 99% of viewport height
                    // element viewport
                    end: "top bottom",
                    // toggleActions: "play none none none"
                }
            }
        );

        // Animate copyright as well
        // gsap.fromTo(".copyright",
        //     { opacity: 0, y: 20 },
        //     {
        //         opacity: 1,
        //         y: 0,
        //         duration: 1,
        //         ease: "power2.out",
        //         scrollTrigger: {
        //             trigger: ".copyright",
        //             start: "top 99%",
        //             toggleActions: "play none none none"
        //         }
        //     }
        // );




        const video = document.getElementById('automatic');

        function playVideo() {
            video.muted = true;
            video.play();
        }

    </script>

    <!-- 
    <script>
        const tl = gsap.timeline({ defaults: { duration: 0.8, ease: "power2.out" } });

        tl.fromTo(".logo", { opacity: 0, y: 20 }, { opacity: 1, y: 0 }, "-=1.6")
            .fromTo(".video-wrapper", { clipPath: "inset(100% 0% 0% 0%)", opacity: 0, y: 40, scale: 1.01, position: "absolute", right: "30vw" }, { clipPath: "inset(0% 0% 0% 0%)", opacity: 1, y: 0, scale: .8 }, "+=0.4")
            // .fromTo(".video-wrapper", { clipPath: "inset(100% 0% 0% 0%)", opacity: 0, y: 40, scale: 1.01, margin: "0 auto" }, { clipPath: "inset(0% 0% 0% 0%)", opacity: 1, y: 0, scale: 1 }, "-=0.4")
            .to(".video-wrapper", { right: "0vw", scale: 1 }, "+=0.4")
            .fromTo(".video-wrapper video", { scale: 1.3, opacity: 0.8 }, { scale: 1, opacity: 1 }, "-=0.4")
            .fromTo("nav", { opacity: 0, y: 30 }, { opacity: 1, y: 0 }, "-=0.8")
            .fromTo("h1", { opacity: 0, y: 30 }, { opacity: 1, y: 0 }, "-=0.6")
            .fromTo("h2", { opacity: 0, y: 30 }, { opacity: 1, y: 0 }, "-=0.7")
            .fromTo("footer", { opacity: 0, y: 20 }, { opacity: 1, y: 0 }, "-=0.4")
            .fromTo(".copyright", { opacity: 0, y: 20 }, { opacity: 1, y: 0 }, "-=0.5");
    </script> -->


</body>

</html>